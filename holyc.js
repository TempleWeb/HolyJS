/**
 * @Copyright Leonardo Z. Nunes 2022
 * @license MIT
 * @fileoverview JS HolyC Interpreter
 * @version 0.0.0
 */
 export const holyc_web_run=()=>{alert(Je(Se(we(document.getElementById("stdin").value))))};let e=!1;export const holy_node_cli=t=>Je((()=>{const n=Se(we(t));return e=!0,n}));export const holy_node_scan=e=>Je(Se(we(e)));class t{token;next;left;right;constructor(e){this.type=e}}class n{next;ast}var l,r,f,i;const s=1,a=2,o=3,k=4,c=5,h=6,p=7,g=8,d=9,u=10,y=11,w=12,b=13,x=14,I=15,v=16,m=17,_=18,E=19,U=20,$=21,A=22,F=23,N=24,B=25,L=26,R=27,S=28,T=29,Z=30,j=31,q=32,z=33,C=34,D=35,G=36,H=37,J=38,K=39,M=40,O=41,P=42,Q=43,V=44,W=45,X=46,Y=e=>{for(let t=0;t<l.length;++t)if(l[t].id===e.id)return t},ee=e=>{for(let t=0;t<f.length;++t)if(f[t].id===e.id)return t},te=e=>" "!==e&&"\n"!==e&&/^[A-Z0-9_]$/i.test(e),ne=e=>" "!==e&&"\n"!==e&&!isNaN(e),le=e=>{const t=`compile failure\nlexer: '${e.id}' unexpected token in line ${e.line}\n`;try{throw alert(t)}catch{throw new Error(t)}},re=e=>{const t=`compile failure\nparser: '${e.id}' unexpected token in line ${e.line}\n`;try{throw alert(t)}catch{throw new Error(t)}},fe=(e,t)=>{se(e[i])!==t&&re(e[i])},ie=(e,t)=>{try{if(e[i].type!==t)throw new Error;i++}catch{re(e[i]?e[i]:e[i-1])}},se=e=>!!l.filter((t=>t.id===e.id)).length,ae=(e,t,n)=>{try{return e[t].type===n}catch{re(e[t-1])}},oe=(e,t)=>{switch(t){case"id":return e===o;case"data_type":return e===y||e===w||e===b||e===x||e===I||e===v||e===m||e===_||e===E||e===U||e===$;case"assignment_operator":return e===C||e===D||e===z||e===q}},ke=(e,t)=>{try{let n=e[t].type;return n===S||n===R||n===H||n===J||n===K||n===Q}catch{re(e[t-1])}},ce=(e,t)=>{try{let n=e[t].type;return n===k||n===c||n===h||n===p||n===Z||n===j}catch{re(e[t-1])}},he=(e,t)=>{try{let n=e[t].type;return n===C||n===D||n===z||n===q||n===L}catch{re(e[t-1])}},pe=e=>{((e,t)=>{try{let n=e[t].type;return n===y||n===w||n===b||n===x||n===I||n===v||n===m||n===_||n===E||n===U||n===$}catch{re(e[t-1])}})(e,i)?i++:re(e[i])},ge=e=>{ke(e,i)?i++:re(e[i])},de=e=>{ce(e,i)?i++:re(e[i])},ue=e=>{switch(e){case"I0":return y;case"U0":return w;case"I8":return b;case"U8":return x;case"I16":return I;case"U16":return v;case"I32":return m;case"U32":return _;case"I64":return E;case"U64":return U;case"F64":return $;default:return null}},ye=e=>{switch(e){case"for":return T;case"if":return G;case"else":return M;case"return":return V;case"TRUE":return O;case"FALSE":return P;default:return o}},we=e=>{if(r="",!e){const e="compile failure\nlexer: nothing to compile\n";try{throw alert(e)}catch{throw new Error(e)}}e=e.replace(/\t/g,"");var t=[],n=1;for(let l=0;l<e.length;++l)if("\n"===e[l]&&n++," "!==e[l]&&"\n"!==e[l])if("/"!==e[l]||"/"!==e[l+1])if("'"!==e[l])if('"'!==e[l])if(ne(e[l])){let r="";for(;ne(e[l]);)r+=e[l++];l--,t.push({id:r,line:n,type:s})}else if(te(e[l])){let r="";for(;te(e[l]);)r+=e[l++];l--;let f=ue(r);f||(f=ye(r)),t.push({id:r,line:n,type:f})}else switch(e[l]){case"+":"+"===e[l+1]?(l++,t.push({id:"++",line:n,type:Z})):"="===e[l+1]?(l++,t.push({id:"+=",line:n,type:q})):t.push({id:"+",line:n,type:k});break;case"-":"-"===e[l+1]?(l++,t.push({id:"--",line:n,type:j})):"="===e[l+1]?(l++,t.push({id:"-=",line:n,type:z})):t.push({id:"-",line:n,type:c});break;case"*":"="===e[l+1]?(l++,t.push({id:"*=",line:n,type:D})):t.push({id:"*",line:n,type:p});break;case"/":"="===e[l+1]?(l++,t.push({id:"/=",line:n,type:C})):t.push({id:"/",line:n,type:h});break;case";":t.push({id:";",line:n,type:g});break;case"{":t.push({id:"{",line:n,type:u});break;case"}":t.push({id:"}",line:n,type:d});break;case"(":t.push({id:"(",line:n,type:A});break;case")":t.push({id:")",line:n,type:F});break;case",":t.push({id:",",line:n,type:B});break;case"=":"="===e[l+1]?(l++,t.push({id:"==",line:n,type:Q})):t.push({id:"=",line:n,type:L});break;case"<":"="===e[l+1]?(l++,t.push({id:"<=",line:n,type:X})):t.push({id:"<",line:n,type:R});break;case">":"="===e[l+1]?(l++,t.push({id:">=",line:n,type:W})):t.push({id:">",line:n,type:S});break;case"!":t.push({id:"!",line:n,type:K});break;case"&":"&"===e[l+1]&&(l++,t.push({id:"&&",line:n,type:J}));break;case"|":"|"===e[l+1]&&(l++,t.push({id:"||",line:n,type:H}));break;default:le({id:e[l],line:n})}else{let r="";for(l++;'"'!==e[l]&&e[l];)r+=e[l++];t.push({id:r,line:n,type:a})}else{let r="";for(l++;"'"!==e[l]&&e[l];)r+=e[l++];t.push({id:r,line:n,type:a})}else{for(l++;"\n"!==e[l];)l++;n++}return t},be=e=>{if(ae(e,i,g)||ae(e,i,B)||ae(e,i,F))return null;let n;return ae(e,i-1,o)||ae(e,i-1,s)||ae(e,i-1,O)||ae(e,i-1,P)?ke(e,i)?(n=new t(e[i]?.type),n.token=e[i],ge(e)):(ae(e,i-1,o)||ae(e,i-1,s))&&ce(e,i)&&(ae(e,i+1,o)||ae(e,i+1,s))&&(n=new t(e[i]?.type),n.token=e[i],de(e)):ke(e,i-1)&&ae(e,i,K)?(n=new t(K),n.token=e[i],ie(e,K)):ae(e,i,o)?(fe(e,!0),n=new t(o),n.token=e[i],ie(e,o)):ae(e,i,O)?(n=new t(O),n.token={id:1,line:e[i].line,type:s},ie(e,O)):ae(e,i,P)?(n=new t(s),n.token={id:0,line:e[i].line,type:s},ie(e,P)):(n=new t(s),n.token=e[i],ie(e,s)),n.right=be(e),n},xe=(e,n,r)=>{if(ae(e,i,g)||ae(e,i,B)||n&&ae(e,i,F))return null;let a;if(f.find((t=>t.id===e[i].id)))return $e(e);if(ae(e,i-1,o)||ae(e,i-1,s))ce(e,i)?(ae(e,i+1,o)||ae(e,i+1,s))&&(a=new t(e[i]?.type),a.token=e[i],de(e)):he(e,i)?(a=new t(e[i]?.type),a.token=e[i],(e=>{he(e,i)?i++:re(e[i])})(e)):(a=new t(L),a.token=e[i],ie(e,L));else if(ae(e,i-1,L)||he(e,i-1))if(ae(e,i,o)){let n;n=r?f[r-1].args.find((t=>t.id===e[i].id)):f.find((t=>t.id===e[i].id)),!n&&fe(e,!0),a=new t(o),a.token=e[i],ie(e,o)}else l[Y(e[i-2])]={id:e[i-2].id,line:e[i-2].line,value:e[i].id},a=new t(s),a.token=e[i],ie(e,s);else if(ce(e,i-1)||ae(e,i-1,V))if(ae(e,i,o)){let n;r&&(n=f[r-1].args.find((t=>t.id===e[i].id))),!n&&fe(e,!0),a=new t(o),a.token=e[i],ie(e,o)}else a=new t(s),a.token=e[i],ie(e,s);else if(ae(e,i,o)){let n;r&&(n=f[r-1].args.find((t=>t.id===e[i].id))),!n&&fe(e,!0),a=new t(o),a.token=e[i],ie(e,o)}else ae(e,i,g)?re(e[i]):(a=new t(B),a.token=e[i],ie(e,B));return a.right=xe(e,n,r),a},Ie=e=>{if(ae(e,i,g))return null;let n;return ae(e,i,o)||ae(e,i,s)?(n=new t(e[i]?.type),n.token=e[i],ie(e,e[i].type)):ae(e,i,a)?(n=new t(a),n.token=e[i],ie(e,a)):n=xe(e,!1),ae(e,i,L)?(n.left=new t(L),n.left.token=e[i],ie(e,L),n.left.right=xe(e,!1)):ae(e,i,g)||(n.left=new t(B),n.left.token=e[i],ie(e,B)),n.right=Ie(e),n},ve=e=>{if(ae(e,i,g))return null;let n=new t(a);return n.token=e[i],ie(e,a),ae(e,i,g)||(n.next=new t(B),n.next.token=e[i],ie(e,B),ae(e,i,a)||re(e[i])),n.right=ve(e),n},me=e=>{let n=new t(a);return n.token=e[i],ie(e,a),ae(e,i,g)?(n.left=new t(g),n.left.token=e[i],ie(e,g)):(n.left=new t(B),n.left.token=e[i],ie(e,B),ae(e,i,a)?(n.right=ve(e),n.left.left=new t(g),n.left.left.token=e[i],ie(e,g)):(n.left.right=Ie(e),n.left.left=new t(g),n.left.left.token=e[i],ie(e,g))),n},_e=(e,n)=>{if(ae(e,i,d))return null;let l;switch(e[i].type){case y:case w:case b:case x:case I:case v:case m:case _:case E:case U:case $:case o:l=Fe(e,n);break;case Z:case j:l=Ne(e,!1);break;case a:l=me(e);break;case T:l=Le(e);break;case G:l=Be(e);break;case V:l=((e,n)=>{let l=new t(V);return l.token=e[i],ie(e,V),l.right=xe(e,!1,n),l.left=new t(g),l.left.token=e[i],ie(e,g),l})(e,n);break;default:re(e[i])}return l.next=_e(e,n),l},Ee=(e=[])=>{if(ae(e,i,F))return null;let n=new t(e[i]?.type);return n.token=e[i],pe(e),n.next=new t(o),n.next.token=e[i],ie(e,o),ae(e,i,L)&&(n.next.next=new t(L),n.next.next.token=e[i],ie(e,L),ae(e,i,s)?(n.next.next.next=new t(s),n.next.next.next.token=e[i],ie(e,s)):(n.next.next.next=new t(a),n.next.next.next.token=e[i],ie(e,a))),ae(e,i,F)||(n.next.next=new t(B),n.next.next.token=e[i],ie(e,B)),n.right=Ee(e),n},Ue=(e,n,l,r)=>{if(f[n].args.length===r)return null;let a;if(f[n].args[r]?.id?ae(e,i,o)?(fe(e,!0),a=new t(o),a.token=e[i],ie(e,o),ce(e,i)):ae(e,i,s)&&(a=new t(s),a.token=e[i],ie(e,s)):ae(e,i,o)?(fe(e,!0),a=new t(o),a.token=e[i],ie(e,o)):(a=new t(s),a.token=e[i],ie(e,s)),!(r<f[n].args.length-1))return a;if(a){if(!ae(e,i,B))return a;a.left=new t(B),a.left.token=e[i],ie(e,B)}else if(l||ae(e,i,B))a=new t(B),a.token=e[i],ie(e,B);else if(!l||ae(e,i,A))return a;return a.right=Ue(e,n,l,++r),a},$e=e=>{f.findIndex((t=>t.id===e[i].id))<0&&fe(e,!0);const n=ee(e[i]);let l=new t(N);if(l.token=e[i],ie(e,o),f[n].args.length){const r=f[n].args.filter((e=>void 0===e.id)).length;if(ae(e,i,g)&&!r)return l.left=new t(g),l.left.token=e[i],ie(e,g),l;l.left=new t(A),l.left.token=e[i],ie(e,A),ae(e,i,a)&&!r&&"*"===e[i].id?(l.left.left=new t(a),l.left.left.token=e[i],ie(e,a)):f[n].args.length&&(l.right=Ue(e,n,r,0)),l.left.left=new t(F),l.left.left.token=e[i],ie(e,F)}else ae(e,i,A)&&(l.left=new t(A),l.left.token=e[i],ie(e,A),ae(e,i,a)&&"*"===e[i].id&&(l.left.next=new t(a),l.left.next.token=e[i],ie(e,a)),l.left.left=new t(F),l.left.left.token=e[i],ie(e,F));return l},Ae=e=>{if(ae(e,i,g)&&!ae(e,i-1,B))return null;fe(e,!1);let n=e[i],r=new t(o);return r.token=e[i],ie(e,o),ae(e,i,L)?(l.push({...n,const:0}),r.left=xe(e,!1),ae(e,i,g)||(r.left.left=new t(B),r.left.left.token=e[i],ie(e,B))):ae(e,i,g)?l.push({...n,const:0}):(l.push({...n,const:0}),r.left=new t(B),r.left.token=e[i],ie(e,B)),r.right=Ae(e),r},Fe=(e,n)=>{if(ae(e,i,o)){if(he(e,i+1)){let l=xe(e,!1,n);return l.left=new t(g),l.left.token=e[i],ie(e,g),l}if(ae(e,i+1,Z)||ae(e,i+1,j))return Ne(e,!1);{let t=$e(e);return ie(e,g),t}}let r=new t(e[i]?.type);r.token=e[i],pe(e),f.findIndex((t=>t.id===e[i].id))<0?n||fe(e,!1):fe(e,!0);let s=e[i];if(r.left=new t(o),r.left.token=e[i],ie(e,o),ae(e,i,g))l.push({...s,const:0}),r.left.left=new t(g),r.left.left.token=e[i],ie(e,g);else if(ae(e,i,B))l.push({...s,const:0}),r.left.left=new t(B),r.left.left.token=e[i],ie(e,B),r.right=Ae(e),r.left.left.left=new t(g),r.left.left.left.token=e[i],ie(e,g);else if(ae(e,i,L))l.push({...s,const:0}),r.right=xe(e,!1,n),ae(e,i,B)?(r.left.left=new t(B),r.left.left.token=e[i],ie(e,B),r.left.right=Ae(e),r.left.left.left=new t(g),r.left.left.left.token=e[i],ie(e,g)):(r.left.left=new t(g),r.left.left.token=e[i],ie(e,g));else if(!n){const n=e[i-1].id;let l={id:n,type:e[i-2].type,args:void 0,return:void 0};r.left.left=new t(A),r.left.left.token=e[i],ie(e,A);let s=i;r.left.left.right=Ee(e);let a=[];for(;s<i;){let t={id:e[s+1].id,type:e[s].type,value:void 0};e[s+2].type===L&&(t.value=e[s+3].id,s+=2),s+=2,e[s].type===B&&s++,a.push(t)}l.args=a,f.push(l);const o=f.findIndex((e=>e.id===n))+1;r.left.left.left=new t(F),r.left.left.left.token=e[i],ie(e,F),r.left.left.left.left=new t(u),r.left.left.left.left.token=e[i],ie(e,u),r.right=_e(e,o),r.left.left.left.left.left=new t(d),r.left.left.left.left.left.token=e[i],ie(e,d)}return r},Ne=(e,n)=>{let l;return ce(e,i)?(ae(e,i,Z)?(l=new t(Z),l.token=e[i],de(e)):(l=new t(j),l.token=e[i],de(e)),fe(e,!0),l.right=new t(o),l.right.token=e[i],ie(e,o)):(fe(e,!0),l=new t(o),l.token=e[i],ie(e,o),ae(e,i,Z)?(l.right=new t(Z),l.right.token=e[i],de(e)):(l.right=new t(j),l.right.token=e[i],de(e))),n||(l.left=new t(g),l.left.token=e[i],ie(e,g)),l},Be=e=>{let n=new t(G);return n.token=e[i],ie(e,G),n.left=new t(A),n.left.token=e[i],ie(e,A),ae(e,i,s)?(n.left.left=new t(s),n.left.left.token=e[i],ie(e,s)):ae(e,i,O)?(n.left.left=new t(O),n.left.left.token={id:1,line:e[i].line,type:s},ie(e,O)):ae(e,i,P)?(n.left.left=new t(s),n.left.left.token={id:0,line:e[i].line,type:s},ie(e,P)):(fe(e,!0),n.left.left=new t(o),n.left.left.token=e[i],ie(e,o)),n.right=be(e),n.left.left.left=new t(F),n.left.left.left.token=e[i],ie(e,F),n.left.left.next=new t(u),n.left.left.next.token=e[i],ie(e,u),n.left.left.left.right=_e(e),n.left.left.next.next=new t(d),n.left.left.next.next.token=e[i],ie(e,d),i<e.length&&ae(e,i,M)&&(n.left.left.left.left=new t(M),n.left.left.left.left.token=e[i],ie(e,M),ae(e,i,G)?n.left.left.left.next=Be(e):(n.left.left.left.next=new t(u),n.left.left.left.next.token=e[i],ie(e,u),n.left.left.left.left.right=_e(e),n.left.left.left.next.next=new t(d),n.left.left.left.next.next.token=e[i],ie(e,d))),n},Le=e=>{let n=new t(T);return n.token=e[i],ie(e,T),n.next=new t(A),n.next.token=e[i],ie(e,A),fe(e,!0),n.left=new t(o),n.left.token=e[i],ie(e,o),n.right=xe(e,!1),n.left.left=new t(g),n.left.left.token=e[i],ie(e,g),fe(e,!0),n.left.left.left=new t(o),n.left.left.left.token=e[i],ie(e,o),n.left.left.left.left=new t(e[i]?.type),n.left.left.left.left.token=e[i],ge(e),n.left.left.left.left.left=new t(s),n.left.left.left.left.left.token=e[i],ie(e,s),n.left.left.left.left.left.left=new t(g),n.left.left.left.left.left.left.token=e[i],ie(e,g),ae(e,i,Z)||ae(e,i,j)||ae(e,i+1,j)||ae(e,i+1,Z)?n.left.left.left.left.left.left.left=Ne(e,!0):(fe(e,!0),n.left.left.left.left.left.left.next=new t(o),n.left.left.left.left.left.left.next.token=e[i],ie(e,o),n.left.left.left.left.left.left.left=xe(e,!0)),n.left.left.left.left.left.left.left.next=new t(F),n.left.left.left.left.left.left.left.next.token=e[i],ie(e,F),n.left.left.left.left.left.left.next=new t(u),n.left.left.left.left.left.left.next.token=e[i],ie(e,u),n.left.left.left.left.left.left.right=_e(e),n.left.left.left.left.left.left.next.next=new t(d),n.left.left.left.left.left.left.next.next.token=e[i],ie(e,d),n},Re=e=>{if(!e[i])return null;let t=new n;switch(e[i].type){case y:case w:case b:case x:case I:case v:case m:case _:case E:case U:case $:case o:t.ast=Fe(e);break;case Z:case j:t.ast=Ne(e,!1);break;case a:t.ast=me(e);break;case T:t.ast=Le(e);break;case G:t.ast=Be(e);break;default:re(e[i])}return t.next=Re(e),t},Se=t=>(i=0,e||(l=[],f=[]),Re(t)),Te=(e,t)=>{let n=e;for(;t;){switch(t.type){case h:t.right.token.type===s?n/=parseInt(t.right.token.id):n/=parseInt(l[Y(t.right.token)].const);break;case p:t.right.token.type===s?n*=parseInt(t.right.token.id):n*=parseInt(l[Y(t.right.token)].const);break;case k:t.right.token.type===s?n+=parseInt(t.right.token.id):n+=parseInt(l[Y(t.right.token)].const);break;case c:t.right.token.type===s?n-=parseInt(t.right.token.id):n-=parseInt(l[Y(t.right.token)].const)}if(!t?.right?.right)break;if((t=t.right.right).type!==k&&t.type!==c&&t.type!==h&&t.type!==p)break}return n},Ze=(e,t)=>{let n,r,f,i={number:0,boolean:!1};if(t||e.left.left.token.type!==K?t?t&&e.right.token.type===K?(n=e.right.right.token,r=e.right.right.right):t&&(n=e.right.token,r=e.right.right):(n=e.left.left.token,r=e.right):(n=e.right.token,r=e.right.right),n.type===o?i.number=parseInt(l[Y(n)].const):i.number=parseInt(n.id),r?.token.type===k||r?.token.type===c||r?.token.type===h||r?.token.type===p)for(i.number=Te(i.number,r);r&&(r=r.right,!r||r.token.type!==H&&r.token.type!==J&&r.token.type!==S&&r.token.type!==R&&r.token.type!==W&&r.token.type!==X&&r.token.type!==Q););for(i.number&&(i.boolean=!0);r;){if(r.right?.right?.token.type===k||r.right?.right?.token.type===c||r.right?.right?.token.type===h||r.right?.right?.token.type===p||r.right?.right?.token.type===K){let e;e=r.right.token.type===o?parseInt(l[Y(r.right.token)].const):parseInt(r.right.token.id),f=Te(e,r.right.right)}else r.right.token.type===o?f=parseInt(l[Y(r.right.token)].const):r.right.token.type===s?f=parseInt(r.right.token.id):r.right.token.type===K&&(r.right.right.token.type===o?f=parseInt(l[Y(r.right.right.token)].const):r.right.right.token.type===s&&(f=parseInt(r.right.right.token.id)));switch(r.type){case R:i.boolean=i.number<f,i.number=f;break;case X:i.boolean=i.number<=f,i.number=f;break;case S:i.boolean=i.number>f,i.number=f;break;case W:i.boolean=i.number>=f,i.number=f;break;case H:const e=Ze(r,!0);for(i.boolean=!(!i.boolean&&!e);r&&(r=r.right,!r||r.token.type!==H););break;case J:i.boolean=i.boolean&&!!f;break;case K:i.boolean=!i.boolean;break;case Q:i.boolean=i.number===f}if(!r)break;r=r.right.right,r&&r?.token?.type===K&&(r=r.right)}return i.boolean},je=(e,t,n,r,i)=>{if("("===e?.left?.left?.token.id)return;let a,d,u,y,w=-1,b=0;for(oe(e.token.type,"data_type")?(a=e.left.token,r+1&&f[r]?.args?.find((e=>e.id===a.id))?b=f[r]?.args.findIndex((e=>e.id===a.id)):w=Y(e.left.token)):(a=e.token,r+1&&f[r]?.args.find((e=>e.id===a.id))?b=f[r]?.args.findIndex((e=>e.id===a.id)):e.token.type===o&&(w=Y(e.token))),d=r+1&&(u=f[r]?.args.find((e=>e.id===a.id)))?parseInt(u.value):w>-1?parseInt(l[w].value):parseInt(a.id),y=n?e.left:i?e.right:e;y;){switch(y.type){case h:case C:if(y.right.token.type===s)d/=parseInt(y.right.token.id);else{let e;r+1&&(e=f[r]?.args.find((e=>e.id===y.right.token.id)))?d/=parseInt(e.value):(e=f.find((e=>e.id===y.right.token.id)))?(Ge(y.right,t),d/=e.return):d/=parseInt(l[Y(y.right.token)].const)}i||(w>=0?l[w].const=d:f[r].args[b].value=d);break;case p:case D:if(y.right.token.type===s)d*=parseInt(y.right.token.id);else{let e;r+1&&(e=f[r]?.args.find((e=>e.id===y.right.token.id)))?d+=parseInt(e.value):(e=f.find((e=>e.id===y.right.token.id)))?(Ge(y.right,t),d+=e.return):d+=parseInt(l[Y(y.right.token)].const)}i||(w>=0?l[w].const=d:f[r].args[b].value=d);break;case L:if(y.right.token.type===s)d=parseInt(y.right.token.id);else{let e;r+1&&(e=f[r]?.args.find((e=>e.id===y.right.token.id)))?d=parseInt(e.value):(e=f.find((e=>e.id===y.right.token.id)))?(Ge(y.right,t),d=e.return):d=parseInt(l[Y(y.right.token)].const)}i||(w>=0?l[w].const=d:f[r].args[b].value=d);break;case q:case k:if(y.right.token.type===s)d+=parseInt(y.right.token.id);else{let e;r+1&&(e=f[r]?.args.find((e=>e.id===y.right.token.id)))?d+=parseInt(e.value):(e=f.find((e=>e.id===y.right.token.id)))?(Ge(y.right,t),d+=e.return):d+=parseInt(l[Y(y.right.token)].const)}i||(w>=0?l[w].const=d:f[r].args[b].value=d);break;case z:case c:if(y.right.token.type===s)d-=parseInt(y.right.token.id);else{let e;r+1&&(e=f[r]?.args.find((e=>e.id===y.right.token.id)))?d-=parseInt(e.value):(e=f.find((e=>e.id===y.right.token.id)))?(Ge(y.right,t),d-=e.return):d-=parseInt(l[Y(y.right.token)].const)}i||(w>=0?l[w].const=d:f[r].args[b].value=d);break;case g:return y}y=y.right}return oe(e?.left?.right?.token.type,"id")?je(e.left.right,t,!0,r,i):oe(e?.right?.token.type,"id")&&je(e.right,t,!0,r,i),i&&(f[r].return=d),y},qe=(e,t)=>{if(!e)return null;if(oe(e.ast.type,"data_type")){let n=((e,t)=>e.left.token.id===t.id)(e.ast,t);if(n)return e.ast}return qe(e.next,t)},ze=(e,t,n)=>{if(e){switch(e.type){case y:case w:case b:case x:case I:case v:case m:case _:case E:case U:case $:case o:e.left&&je(e,t,!1,n);break;case G:Ce(e,t,n);break;case T:De(e,t,n);break;case a:Ke(e,n);break;case N:Ge(e,t);break;case V:return void He(e,t,n)}ze(e.right,t,n),ze(e.next,t,n)}},Ce=(e,t,n)=>{const l=Ze(e,!1);let r;e.left?.left?.left?.left&&(r=e.left.left.left.left.right),l?ze(e.left.left.left.right,t,n):r&&ze(r,t,n),l||e?.left?.left?.left?.next?.token.type!==G||Ce(e.left.left.left.next,t)},De=(e,t,n)=>{const r=Y(e.left.token),f=parseInt(e.right.right.token.id),i=e.left.left.left.left.token,s=parseInt(e.left.left.left.left.left.token.id);let a,k=e.left.left.left.left.left.left.left;switch(k.type===o&&(k=e.left.left.left.left.left.left.left.right),a=oe(k.type,"assignment_operator")?parseInt(k.right.token.id):1,i.type){case R:for(let i=f;i<s;i+=a)ze(e.left.left.left.left.left.left.right,t,n),l[r].const=parseInt(l[r].const)+a;break;case S:for(let i=f;i>s;i+=a)ze(e.left.left.left.left.left.left.right,t,n),l[r].const=parseInt(l[r].const)+a}},Ge=(e,t)=>{const n=qe(t,e.token),r=ee(n?.left?.token);let i=e.right,a=0;for(;f[r].args[a]&&i;)i.token.type===o?f[r].args[a].value=l[Y(i.token)].const:i.token.type===s&&(f[r].args[a].value=i.token.id),a++,i=i.right;ze(n.right,t,r)},He=(e,t,n)=>{je(e.right,t,!1,n,!0)},Je=e=>{let t=e;do{switch(t.ast.type){case y:case w:case b:case x:case I:case v:case m:case _:case E:case U:case $:case o:je(t.ast,e);break;case G:Ce(t.ast,e);break;case T:De(t.ast,e);break;case a:let n=t.ast;do{Ke(n),n=n.right}while(n);break;case N:Ge(t.ast,e)}t=t.next}while(t);return r},Ke=(e,t)=>{let n=e.token.id;if(e.token.id.includes("%")){let r;n=t+1&&(r=f[t]?.args.find((t=>t.id===e.left.right.token.id)))?n.replace("%d",r.value):e.left.right.token.type===s?n.replace("%d",e.left.right.token.id):n.replace("%d",l[Y(e.left.right.token)].const)}r+=n.replace(/\\n|\\t/g,(e=>{switch(e){case"\\r":case"\\n":return"\n";case"\\t":return"    ";default:return e}}))};